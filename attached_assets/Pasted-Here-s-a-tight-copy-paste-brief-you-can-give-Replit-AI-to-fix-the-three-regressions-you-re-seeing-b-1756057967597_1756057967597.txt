Here’s a tight copy-paste brief you can give Replit AI to fix the three regressions you’re seeing (bulky stats, grid cropped to the left, and name bar showing as a black block with no text). It replaces only the broken UI pieces—no gameplay/rarity logic changes.

⸻

COPY/PASTE FOR REPLIT AI — UI HOTFIX (STATS STRIP • GRID CROPPING • NAME BAR TEXT)

Please implement exactly the changes below. Do not touch gameplay logic or rarity math.

⸻

A) Replace bulky stat cards with a compact “stats strip”

Current problem
	•	Each metric is in its own large card → too tall on mobile.

Target
	•	One compact strip that fits on a single row (wraps to two rows on narrow phones), with small labels and bold numbers.
	•	Items: CORRECT • INCORRECT • GUESSES LEFT • TOTAL RARITY • AVG RARITY • BEST • WORST

Implementation
	•	Replace the card grid with a flex strip:

<div className="statsStrip" role="region" aria-label="Session stats">
  <div className="stat"><span className="val">{correct}</span><span className="lbl">Correct</span></div>
  <div className="stat"><span className="val">{incorrect}</span><span className="lbl">Incorrect</span></div>
  <div className="stat"><span className="val">{guessesLeft}</span><span className="lbl">Guesses Left</span></div>
  <div className="stat"><span className="val">{totalRarity}</span><span className="lbl">Total Rarity</span></div>
  <div className="stat"><span className="val">{avgRarity}</span><span className="lbl">Avg Rarity</span></div>
  <div className="stat"><span className="val">{bestRarity}</span><span className="lbl">Best</span></div>
  <div className="stat"><span className="val">{worstRarity}</span><span className="lbl">Worst</span></div>
</div>

.statsStrip{
  display:flex; flex-wrap:wrap; align-items:baseline; gap: clamp(8px,1.6vmin,14px);
  padding: clamp(8px,1.6vmin,12px) 0;
}
.statsStrip .stat{ display:flex; gap:6px; align-items:baseline; }
.statsStrip .val{ font-weight:800; font-size:clamp(14px,3.2vmin,20px); line-height:1; }
.statsStrip .lbl{ font-size:clamp(11px,1.8vmin,13px); opacity:.7; text-transform:uppercase; letter-spacing:.04em; }

Acceptance
	•	On iPhone width, the strip is at most two lines high; no individual cards.

⸻

B) Fix grid cropping (only left side visible)

Current problem
	•	Grid container is narrower than content or uses fixed width → right columns cut off on mobile.

Target
	•	Grid uses the full available width and centers; no horizontal scroll; always shows 3 equal columns; tiles keep aspect ratio.

Implementation
	•	Ensure the grid container does not have any fixed width (e.g., remove width: 900px, max-content, etc.).
	•	Apply:

.gridWrap{ width:100%; max-width:1100px; margin-inline:auto; overflow-x:hidden; }
.grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr)); /* equal columns */
  gap: clamp(10px,1.8vmin,16px);
}
.grid .tile{ aspect-ratio:1 / 1; min-width:0; }

	•	Remove any parent styles that set overflow-x:hidden and clip the grid area; the .gridWrap above should be the clipping boundary.
	•	Ensure the page container doesn’t set a fixed pixel padding that causes the grid to exceed viewport width.

Acceptance
	•	At 320/375/414px widths the entire 3×3 grid is visible without horizontal scroll.

⸻

C) Name bar text invisible (black bar only)

Current problem
	•	NameBar renders background but text is not visible (likely color token, z-index, or iOS backdrop-filter issue).

Target
	•	Name text is always readable: full name (2 lines) or fallback F. Last (1 line) with ellipsis on last name if still too long.

Implementation
	•	Use a solid translucent background (no backdrop-filter which can blank text on iOS):

.nameBar{
  position:absolute; left: clamp(8px,2vmin,12px); right: clamp(8px,2vmin,12px);
  bottom: clamp(8px,1.6vmin,12px);
  padding: clamp(6px,1vmin,10px) clamp(10px,1.4vmin,12px);
  border-radius: clamp(10px,1.3vmin,14px);
  background: rgba(0,0,0,.45); /* solid translucent; no blur */
  color: #fff; /* force readable text */
  z-index: 2;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; word-break:break-word; hyphens:auto;
  font-weight:800; font-size:clamp(12px,2.2vmin,18px); line-height:1.1;
}
.tile{ position:relative; }
.tile .rarityChip{ position:absolute; top:8px; right:8px; z-index:3; }
.tile img, .tile canvas{ display:block; max-width:100%; height:auto; }

	•	JS fallback to F. Last if 2-line clamp still overflows:

function formatNameToFit(fullName: string, el: HTMLElement){
  // Try full name first; if overflows, fallback to "F. Last"
  const overflows = () => el.scrollHeight > el.clientHeight + 1;
  el.textContent = fullName;
  if (!overflows()) return;

  // Parse "First ... Last [Suffix]"
  const parts = fullName.trim().split(/\s+/);
  const suffixes = ["Jr.","Sr.","II","III","IV","V"];
  let first = parts.shift() || "";
  let last = parts.join(" ");
  let suffix = "";

  // Pull suffix to the end if present
  const tokens = last.split(" ");
  if (tokens.length && suffixes.includes(tokens[tokens.length-1])){
    suffix = " " + tokens.pop();
    last = tokens.join(" ");
  }

  el.textContent = `${first[0] || ""}. ${last}${suffix}`; // single line with ellipsis via CSS
  el.setAttribute("title", fullName);
  el.setAttribute("aria-label", fullName);
}

Acceptance
	•	Name is visible (white) on every tile; if too long, shows F. Last… on one line; tooltip/aria is full name.

⸻

D) Keep the rarity rank display flip

(If not already merged.) In the player modal rarity section, flip only the displayed rank so 1 = rarest, N = most common:

const displayRank = count - originalRank + 1;
text = `Ranked ${displayRank} out of ${count} eligible players`;
hint = `1 = rarest · ${count} = most common`;


⸻

Final QA checklist (must pass)
	•	Stats are a compact strip (no bulky boxes) and never exceed two lines on phone width.
	•	Grid shows all 3 columns on mobile; no horizontal scroll; tiles remain square.
	•	Player names are readable on tiles; no more black bar with missing text.
	•	Long names fall back to F. Last… correctly; tooltip shows full name.
	•	Modal rarity line displays 1 = rarest, N = most common.
	•	No gameplay/rarity logic changes; only UI.

Please implement exactly as specified.